{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":";;;AAAA,qDAA+B;AAE/B,SAAgB,QAAQ,CAAC,GAAW,EAAE,GAAW;IAC/C,IAAI,GAAG,CAAC,MAAM,KAAK,EAAE,IAAI,GAAG,CAAC,MAAM,KAAK,EAAE,EAAE;QAC1C,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAC;KACrC;IACD,IAAI,CAAC,GAAG,IAAI;SACT,WAAW,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC;SACvB,QAAQ,EAAE;SACV,KAAK,CAAC,EAAE,CAAC,CAAC;IACb,IAAI,CAAC,GAAG,IAAI;SACT,WAAW,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC;SACvB,QAAQ,EAAE;SACV,KAAK,CAAC,EAAE,CAAC,CAAC;IAEb,IAAI,GAAG,CAAC;IACR,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM;QAAE,GAAG,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;;QAC9C,GAAG,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;IAE/B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACnC,GAAG,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;KAClD;IACD,IAAI,KAAK,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;IAC7C,IAAI,GAAG,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,QAAQ,EAAE,EAAE,EAAE,CAAC,CAAC;IAElE,IAAI,CAAC,EAAE,CAAC,CAAC;IACT,KAAK,CAAC,GAAG,CAAC,GAAI,CAAC,EAAE,EAAE;QACjB,CAAC,GAAG,SAAA,CAAC,EAAI,CAAC,CAAA,CAAC;QACX,IAAI,CAAC,GAAG,GAAG;YAAE,MAAM;KACpB;IACD,OAAO,CAAC,CAAC;AACX,CAAC;AA7BD,4BA6BC","sourcesContent":["import * as util from \"./util\";\n\nexport function distance(a16: string, b16: string) {\n  if (a16.length !== 40 || b16.length !== 40) {\n    throw new Error(\"error bit length\");\n  }\n  let a = util\n    .convertBase(a16, 16, 2)\n    .toString()\n    .split(\"\");\n  let b = util\n    .convertBase(b16, 16, 2)\n    .toString()\n    .split(\"\");\n\n  let xor;\n  if (a.length > b.length) xor = new Array(a.length);\n  else xor = new Array(b.length);\n\n  for (let i = 0; i < xor.length; i++) {\n    xor[i] = parseInt(a[i], 10) ^ parseInt(b[i], 10);\n  }\n  let xored = xor.toString().replace(/,/g, \"\");\n  let n10 = parseInt(util.convertBase(xored, 2, 10).toString(), 10);\n\n  let n, i;\n  for (i = 0; ; i++) {\n    n = 2 ** i;\n    if (n > n10) break;\n  }\n  return i;\n}\n"]}